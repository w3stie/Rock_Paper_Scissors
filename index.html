<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width">
    <title>Function scope example</title>
  </head>
<body>

  <script>

    function getComputerChoice(){
          const entities = ["rock", "paper", "scissors"];
          const randomIndex = Math.floor(Math.random() * entities.length);
          return entities[randomIndex];
        }

    function playRound (playerSelection, computerSelection){

      playerSelection = playerSelection.toLowerCase();

      if (!["rock", "paper", "scissors"].includes(playerSelection)){
        return ("Invalid choice. Please enter Rock Paper or Scissors");
        playerChoice = prompt("Enter your choice: Rock, Paper, or Scissors");
      }

      
      if (playerSelection === computerSelection){
        return ("It's a tie!");
      } else if(
        (playerSelection === "rock" && computerSelection === "paper")){
          return ("Computer Wins!");
        } else if(
          (playerSelection === "rock" && computerSelection === "scissors")){
            return ("You Win!");
          } else if(
          (playerSelection === "paper" && computerSelection === "rock")){
            return ("You Win!");
          } else if(
          (playerSelection === "paper" && computerSelection === "scissors")){
            return ("Computer Wins!");
          } else if(
          (playerSelection === "scissors" && computerSelection === "rock")){
            return ("Computer Wins!");
          } else if(
          (playerSelection === "scissors" && computerSelection === "paper")){
            return ("You Win!");
          }
          
    }

    function playGame() {
      let playerScore = 0;
      let computerScore = 0;

      for (let round =1; round <= 5; round++){

        const playerSelection = prompt("Enter your choice: Rock, Paper, or Scissors");
        const computerSelection = getComputerChoice();

        console.log("Round: " + round);
        console.log("Player Chose: " + playerSelection);
        console.log("Computer Chose: " + computerSelection);
        console.log(playRound(playerSelection, computerSelection));

        const result = playRound (playerSelection, computerSelection);

        if (result.includes("You Win!")){
          playerScore++;
        } else if (result.includes("Computer Wins!")){
          computerScore++;
        }
      }

      if (playerScore > computerScore) {
        console.log("You win the game!");
      } else if (playerScore < computerScore) {
        console.log("Computer wins the game!");
      } else {
        console.log("It's a tie! No overall winner.");
      }
    }

    playGame();

  </script>
</body>
</html>